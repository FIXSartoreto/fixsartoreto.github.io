{"ast":null,"code":"import _regeneratorRuntime from\"/home/dehsartoreto/Trybe/fixsartoreto.github.io/projetos/movie-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dehsartoreto/Trybe/fixsartoreto.github.io/projetos/movie-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/dehsartoreto/Trybe/fixsartoreto.github.io/projetos/movie-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/dehsartoreto/Trybe/fixsartoreto.github.io/projetos/movie-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/dehsartoreto/Trybe/fixsartoreto.github.io/projetos/movie-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/dehsartoreto/Trybe/fixsartoreto.github.io/projetos/movie-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/dehsartoreto/Trybe/fixsartoreto.github.io/projetos/movie-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Redirect,Link}from'react-router-dom';import MovieForm from'../components/MovieForm';import*as movieAPI from'../services/movieAPI';var NewMovie=/*#__PURE__*/function(_Component){_inherits(NewMovie,_Component);var _super=_createSuper(NewMovie);function NewMovie(props){var _this;_classCallCheck(this,NewMovie);_this=_super.call(this,props);_this.state={redirect:false};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(NewMovie,[{key:\"handleSubmit\",value:function(){var _handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(newMovie){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return movieAPI.createMovie(newMovie);case 2:this.setState({redirect:true});case 3:case\"end\":return _context.stop();}}},_callee,this);}));function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}return handleSubmit;}()},{key:\"render\",value:function render(){var redirect=this.state.redirect;if(redirect)return/*#__PURE__*/React.createElement(Redirect,{push:true,to:\"/\"});return/*#__PURE__*/React.createElement(\"div\",{\"data-testid\":\"new-movie\"},/*#__PURE__*/React.createElement(MovieForm,{onSubmit:this.handleSubmit}),/*#__PURE__*/React.createElement(\"div\",{className:\"links\"},/*#__PURE__*/React.createElement(Link,{className:\"default-link\",to:\"/\"},\"VOLTAR\")));}}]);return NewMovie;}(Component);export default NewMovie;","map":{"version":3,"sources":["/home/dehsartoreto/Trybe/fixsartoreto.github.io/projetos/movie-library/src/pages/NewMovie.js"],"names":["React","Component","Redirect","Link","MovieForm","movieAPI","NewMovie","props","state","redirect","handleSubmit","bind","newMovie","createMovie","setState"],"mappings":"wyCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,QAAT,CAAmBC,IAAnB,KAA+B,kBAA/B,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAO,GAAKC,CAAAA,QAAZ,KAA0B,sBAA1B,C,GAEMC,CAAAA,Q,oGACJ,kBAAYC,KAAZ,CAAmB,0CACjB,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACXC,QAAQ,CAAE,KADC,CAAb,CAIA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CAPiB,aAQlB,C,uJAEkBC,Q,wIACXP,CAAAA,QAAQ,CAACQ,WAAT,CAAqBD,QAArB,C,QACN,KAAKE,QAAL,CAAc,CAAEL,QAAQ,CAAE,IAAZ,CAAd,E,kMAGO,IACCA,CAAAA,QADD,CACc,KAAKD,KADnB,CACCC,QADD,CAGP,GAAIA,QAAJ,CAAc,mBAAO,oBAAC,QAAD,EAAU,IAAI,KAAd,CAAe,EAAE,CAAC,GAAlB,EAAP,CAEd,mBACE,2BAAK,cAAY,WAAjB,eACE,oBAAC,SAAD,EAAW,QAAQ,CAAE,KAAKC,YAA1B,EADF,cAEE,2BAAK,SAAS,CAAC,OAAf,eACE,oBAAC,IAAD,EAAM,SAAS,CAAC,cAAhB,CAA+B,EAAE,CAAC,GAAlC,WADF,CAFF,CADF,CAQD,C,sBA7BoBT,S,EA+BvB,cAAeK,CAAAA,QAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport MovieForm from '../components/MovieForm';\nimport * as movieAPI from '../services/movieAPI';\n\nclass NewMovie extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      redirect: false,\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  async handleSubmit(newMovie) {\n    await movieAPI.createMovie(newMovie);\n    this.setState({ redirect: true });\n  }\n\n  render() {\n    const { redirect } = this.state;\n\n    if (redirect) return <Redirect push to=\"/\" />;\n\n    return (\n      <div data-testid=\"new-movie\">\n        <MovieForm onSubmit={this.handleSubmit} />\n        <div className=\"links\">\n          <Link className=\"default-link\" to=\"/\">VOLTAR</Link>\n        </div>\n      </div>\n    );\n  }\n}\nexport default NewMovie;\n"]},"metadata":{},"sourceType":"module"}